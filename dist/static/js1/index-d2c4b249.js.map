{"version":3,"file":"index-d2c4b249.js","sources":["../../../src/assets/demo.jpg","../../../src/assets/mark-white.png","../../../src/views/image/index.vue"],"sourcesContent":["export default \"__VITE_ASSET__bbe34b63__\"","export default \"data:image/png;base64,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\"","<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"img-box\">\r\n      <img src=\"@/assets/demo.jpg\" alt=\"\" />\r\n      <img :src=\"imageUrl\" alt=\"\" />\r\n    </div>\r\n    <el-form\r\n      label-width=\"100px\"\r\n      :model=\"options\"\r\n      style=\"max-width: 460px\"\r\n    >\r\n      <el-form-item label=\"水印类型\">\r\n        <el-radio v-model=\"type\" label=\"text\">文字</el-radio>\r\n        <el-radio v-model=\"type\" label=\"img\">图片</el-radio>\r\n      </el-form-item>\r\n      <template v-if=\"type === 'text'\">\r\n        <el-form-item label=\"水印文字\">\r\n          <el-input v-model=\"text\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"字号\">\r\n          <el-input v-model=\"options.fontSize\" />\r\n        </el-form-item>\r\n      </template>\r\n      <template v-else>\r\n        <el-form-item label=\"水印图片\">\r\n          <img class=\"mark-img\" :src=\"mark\" alt=\"\">\r\n        </el-form-item>\r\n        <el-form-item label=\"水印高度\">\r\n          <el-input v-model=\"options.markHeight\" />\r\n        </el-form-item>\r\n      </template>\r\n      <el-form-item label=\"重复\">\r\n        <el-switch\r\n          v-model=\"options.repeat\"\r\n        />\r\n      </el-form-item>\r\n      <template v-if=\"options.repeat\">\r\n        <el-form-item label=\"水印行距\">\r\n          <el-input v-model=\"options.lineSpacing\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"水印间距\">\r\n          <el-input v-model=\"options.markSpacing\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"旋转角度\">\r\n          <el-input v-model=\"options.rotate\" />\r\n        </el-form-item>\r\n      </template>\r\n      <template v-else>\r\n        <el-form-item label=\"距离右侧\">\r\n          <el-input v-model=\"options.position.right\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"距离底部\">\r\n          <el-input v-model=\"options.position.bottom\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"偏移\">\r\n          <el-input v-model=\"options.translate\" />\r\n        </el-form-item>\r\n      </template>\r\n      <el-form-item label=\"不透明度\">\r\n        <el-input v-model=\"options.globalAlpha\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">生成水印</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n  import { ref, reactive, unref } from 'vue'\r\n  import watermark from '@sangtian152/watermark'\r\n  import imageBase64 from '@/assets/demo.jpg'\r\n  import mark from '@/assets/mark-white.png'\r\n  const type = ref('text')\r\n  const text = ref('文字水印')\r\n  const options = reactive({\r\n    fontSize: 36,\r\n    markHeight: 26,\r\n    repeat: true,\r\n    rotate: '-45',\r\n    position: {\r\n      right: '50%',\r\n      bottom: '50%',\r\n    },\r\n    translate: '50%,50%',\r\n    lineSpacing: 146,\r\n    markSpacing: '50%',\r\n    globalAlpha: '0.2'\r\n  })\r\n  const imageUrl = ref('')\r\n  const onSubmit = () => {\r\n    const can = new watermark(imageBase64, options);\r\n    // unref(type) 等价于 type.value\r\n    unref(type) === 'text' ? can.addText(text.value) : can.addImage(mark)\r\n    can.draw(function() {\r\n        console.log('水印设置成功')\r\n        imageUrl.value = can.getBase64()\r\n    })\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .img-box {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    img {\r\n      width: 48%;\r\n    }\r\n  }\r\n  .mark-img {\r\n    max-height: 42px;\r\n    background: #eee;\r\n  }\r\n  .el-form {\r\n    margin-top: 10px;\r\n  }\r\n</style>"],"names":["imageBase64","mark","type","ref","text","options","reactive","imageUrl","onSubmit","can","watermark","unref"],"mappings":"8TAAA,MAAeA,EAAA,GAAA,IAAA,IAAA,2BAAA,YAAA,GAAA,EAAA,KCAAC,EAAA,k3FCwEP,MAAAC,EAAOC,EAAI,MAAM,EACjBC,EAAOD,EAAI,0BAAM,EACjBE,EAAUC,EAAS,CACvB,SAAU,GACV,WAAY,GACZ,OAAQ,GACR,OAAQ,MACR,SAAU,CACR,MAAO,MACP,OAAQ,KACV,EACA,UAAW,UACX,YAAa,IACb,YAAa,MACb,YAAa,KAAA,CACd,EACKC,EAAWJ,EAAI,EAAE,EACjBK,EAAW,IAAM,CACrB,MAAMC,EAAM,IAAIC,EAAUV,EAAaK,CAAO,EAExCM,EAAAT,CAAI,IAAM,OAASO,EAAI,QAAQL,EAAK,KAAK,EAAIK,EAAI,SAASR,CAAI,EACpEQ,EAAI,KAAK,UAAW,CAChB,QAAQ,IAAI,sCAAQ,EACXF,EAAA,MAAQE,EAAI,WAAU,CAClC,CAAA"}